---
import Container from "../shared/Container.astro";
import { getI18n } from "../../i18n";
const { currentLocale } = Astro;
const i18n = getI18n({ currentLocale });
---

<section class="relative mt-12 md:mt-16">
  <Container>
    <div
      class="p-5 sm:p-6 py-6 sm:py-8 max-w-6xl rounded-3xl bg-box-bg border border-box-border shadow-lg shadow-box-shadow divide-y md:divide-y-0 md:divide-x divide-box-border grid grid-cols-1 md:grid-cols-6"
    >
      <div class="text-center mb-3 md:mb-0">
        <h2
          class="font-semibold text-xl sm:text-2xl md:text-4xl text-heading-1"
          id="age"
        >
        </h2>
        <p class="mt-2 text-heading-3">{i18n.intro.byNumber.age}</p>
      </div>

      <div class="text-center mb-3 md:mb-0">
        <h2
          class="font-semibold text-xl sm:text-2xl md:text-4xl text-heading-1 mt-3 md:mt-0"
          id="experience"
        >
        </h2>
        <p class="mt-2 text-heading-3">{i18n.intro.byNumber.experience}</p>
      </div>

      <div class="text-center mb-3 md:mb-0">
        <h2
          class="font-semibold text-xl sm:text-2xl md:text-4xl text-heading-1 mt-3 md:mt-0"
        >
          3
        </h2>
        <p class="mt-2 text-heading-3">{i18n.intro.byNumber.personal}</p>
      </div>

      <div class="text-center mb-3 md:mb-0">
        <h2
          class="font-semibold text-xl sm:text-2xl md:text-4xl text-heading-1 mt-3 md:mt-0"
        >
          5+
        </h2>
        <p class="mt-2 text-heading-3">{i18n.intro.byNumber.profesional}</p>
      </div>

      <div class="text-center mb-3 md:mb-0">
        <h2
          class="font-semibold text-xl sm:text-2xl md:text-4xl text-heading-1 mt-3 md:mt-0"
        >
          100+
        </h2>
        <p class="mt-2 text-heading-3">{i18n.intro.byNumber.creativity}</p>
      </div>

      <div class="text-center mb-3 md:mb-0">
        <h2
          class="font-semibold text-xl sm:text-2xl md:text-4xl text-heading-1 mt-3 md:mt-0"
        >
          100%
        </h2>
        <p class="mt-2 text-heading-3">{i18n.intro.byNumber.learning}</p>
      </div>
    </div>
  </Container>
</section>

<script>

  document.addEventListener("astro:page-load", () => {
    const birthDate = new Date("2001-12-14");
    const currentDate = new Date();
    let age = currentDate.getFullYear() - birthDate.getFullYear();
    const monthDifference = currentDate.getMonth() - birthDate.getMonth();
    if (
      monthDifference < 0 ||
      (monthDifference === 0 && currentDate.getDate() < birthDate.getDate())
    ) {
      age--;
    }
    const ageEl = document.getElementById("age");
    if (ageEl) ageEl.textContent = age.toString();

    const experienceStartDate = new Date("2023-09-01");
    const currentDate2 = new Date();
    let experience =
      currentDate2.getFullYear() - experienceStartDate.getFullYear();
    const monthDifference2 =
      currentDate2.getMonth() - experienceStartDate.getMonth();
    if (
      monthDifference2 < 0 ||
      (monthDifference2 === 0 &&
        currentDate2.getDate() < experienceStartDate.getDate())
    ) {
      experience--;
    }
    const experienceEl = document.getElementById("experience");
    if (experienceEl) experienceEl.textContent = experience.toString() + "+";
  });
</script>
